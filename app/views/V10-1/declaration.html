{% extends "layouts/main.html" %}

{% from "govuk/components/back-link/macro.njk" import govukBackLink %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/inset-text/macro.njk" import govukInsetText %}


{% block content %}

<a href="javascript:history.back()" class="govuk-back-link">Back</a>

<hr class="govuk-section-break govuk-section-break--l">


<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
  
    <form action="declaration" method="post" novalidate>


      {% if data['role-type'] === 'me' %}

        <!-- MEDICAL EXAMINER (ME) MCCD SUBMIT -->

        {% if data['me-mccd'] === 'true' %}

          {{ govukCheckboxes({
            name: 'me-cert-declaration',
            fieldset: {
              legend: {
                text: data.translations.meCertDeclarationPageTitle[data.lang],
                isPageHeading: true,
                classes: 'govuk-fieldset__legend--l'
              }
            },
            items: [
              {
                value: 'meCertDeclarationContent',
                text: data.translations.meCertDeclarationContent[data.lang],
                checked: ( data['me-cert-declaration'] )
              }
            ]
          }) }}

          {{ govukButton({
            text: data.translations.meCertDeclarationCTA[data.lang]
          }) }}

        {% else %}

            <!-- MEDICAL EXAMINER (ME) MCCD SCRUTINY -->

            {{ govukCheckboxes({
            name: 'me-scrutiny-declaration',
            fieldset: {
              legend: {
                text: data.translations.meScrutinyDeclarationPageTitle[data.lang],
                isPageHeading: true,
                classes: 'govuk-fieldset__legend--l'
              }
            },
            items: [
              {
                value: 'meScrutinyDeclarationContent',
                text: data.translations.meScrutinyDeclarationContent[data.lang],
                checked: ( data['me-cert-declaration'] )
              }
            ]
          }) }}

          {{ govukButton({
            text: data.translations.meScrutinyReadyForRegistrar[data.lang]
          }) }}


        {% endif %}


      {% elseif data['role-type'] === 'ap' %}

        <!-- ATTENDING PRACTITIONER MCCD SUBMIT -->

        {{ govukCheckboxes({
          name: 'ap-cert-declaration',
          fieldset: {
            legend: {
              text: data.translations.apDeclarationPageTitle[data.lang],
              isPageHeading: true,
              classes: 'govuk-fieldset__legend--l' 
            }
          },
          items: [
            {
              value: 'apDeclarationContent',
              text: data.translations.apDeclarationContent[data.lang],
              checked: ( data['ap-cert-declaration'] )
            }
          ]
        }) }}

        {{ govukButton({
          text: data.translations.apDeclarationSubmitForScrutiny[data.lang]
        }) }}

      {% endif %}

      

    </form>

  </div>
</div>

{{ data | debugData | safe }}

{% endblock %}