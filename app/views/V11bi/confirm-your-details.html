{% extends "layouts/main_cy-en.html" %}

{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/back-link/macro.njk" import govukBackLink %}

{% block pageTitle %}{{ version }} - {{ serviceName }}{% endblock %}

{% block beforeContent %}

{{ govukBackLink({
    text: data.translations.globalBackLink[data.lang],
    href: 'javascript:history.back()'
}) }}

{% endblock %}

{% block content %}

<!-- SET VARIABLES -->

{% if data.lang === '' %}

    {% set pageTitle = 'Check your details are correct before signing off this certificate' %}

    'Gwiriwch fod eich manylion yn gywir cyn llofnodi'r dystysgrif hon'

    {% if data['role-type'] == 'ap' %}
        {% set pageTitle = 'Check your details are correct before submitting this certificate for scrutiny' %}
    {% endif %}

{% else %}

    {% set pageTitle = 'Gwiriwch fod eich manylion yn gywir cyn llofnodi\'r dystysgrif hon' %}

    {% if data['role-type'] == 'ap' %}
        {% set pageTitle = 'Gwiriwch fod eich manylion yn gywir cyn cyflwyno\'r dystysgrif hon i\'w graffu' %}
    {% endif %}

{% endif %}


<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    <h1 class="govuk-heading-l govuk-!-margin-bottom-0">{{ pageTitle }}</h1><br>
    <!--<div class="govuk-hint govuk-!-margin-top-3 govuk-!-margin-bottom-7" id="hint">{{ data.translations.dpdConfirmDetailsDescription[data.lang] }}</div>-->

    {% set summaryRows = [
            {
                key: { text: data.translations.dpdConfirmDetailsFullName[data.lang] },
                value: { text: data.user.name }
            },
            {
                key: { text: data.translations.dpdConfirmDetailsGMC[data.lang] },
                value: { text: data['gmc-number'] or data.user.gmcNumber },
                actions: { items: [ {  href: 'onboarding/gmc-number', html: 'Change<span class="govuk-visually-hidden"> GMC number</a>' } ] }
            },
            {
                key: { text: data.translations.dpdConfirmDetailsWorkAddress[data.lang] },
                value: { html: data.user.address | formatAddress }
            },
            {
                key: { text: data.translations.dpdConfirmDetailsPrimaryQualification[data.lang] },
                value: { html: data['qualifications'] or 'Not specified' },
                actions: { items: [ {  href: 'onboarding/qualifications', text: 'Change' } ] }
            }
        ] %}

        {% if data[settings].showContactMethodScreen === 'true' %}

            {% set summaryRows = ( summaryRows.push( {
                key: { text: 'Contact method' },
                value: { html: data['contact-method'] or 'Not specified' },
                actions: { items: [ {  href: 'onboarding/contact-method', text: 'Change' } ] }
            } ), summaryRows ) %}

        {% endif %}

    {{ govukSummaryList({
        rows: summaryRows
        }) }}

    {{ govukButton({
      text: data.translations.globalSaveContinue[data.lang],
      href: 'declaration'
    }) }}


  </div>
</div>

{{ data | debugData | safe }}


{% endblock %}